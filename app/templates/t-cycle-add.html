{% extends "t-application.html" %}
{% block title %}添加循环规则{% endblock %}
{% block content %}
    <div class="tpl-content-page-title">
        添加循环规则
    </div>
    <ol class="am-breadcrumb">
        <li><a href="#" class="am-icon-home">首页</a></li>

        <li class="am-active">添加循环规则</li>
    </ol>
    <div class="tpl-portlet-components">
        <div class="portlet-title">

            <div class="caption font-green bold">
                <span class="am-icon-code"></span> 表单

            </div>
            <div class="tpl-portlet-input tpl-fz-ml">
                <div class="portlet-input input-small input-inline">
                    <div class="input-icon right">
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                <ul class="error-message">
                                    {% for message in messages %}
                                        <li class="am-icon-bell-o">{{ message }}</li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        {% endwith %}
                    </div>
                </div>
            </div>

        </div>
        <div class="tpl-block ">

            <div class="am-g tpl-amazeui-form">
                <div class="am-u-sm-12 am-u-md-9">
                    <form action="" class="am-form am-form-horizontal" method="post">
                        <div class="am-form-group">
                            <label for="user-phone" class="am-u-sm-3 am-form-label">规则名称</label>
                            <div class="am-u-sm-9">
                                <input name="Sname" type="text" placeholder="规则名称">
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label for="user-phone" class="am-u-sm-3 am-form-label">循环天数</label>
                            <div class="am-u-sm-9">
                                <input name="days" type="number" min="1" placeholder="循环天数"
                                       onblur="AddElement(this.value)">
                            </div>
                            <script language="javascript">
                                function AddElement(mytype) {
                                    var TemO = document.getElementById("add");
                                    childs=TemO.childNodes;
                                    for (var i = childs.length-1;i>=0; i--) {

                                        TemO.removeChild(childs[i]);
                                    }
                                    for(var i=0;i<mytype;i++){
                                        st=document.createElement('input');
                                        st.type="checkbox";
                                        st.value=i
                                        st.name="cycles"
                                        TemO.appendChild(st)
                                    }
                                }
                            </script>
                        </div>
                        <div class="am-form-group">
                            <label for="user-phone" class="am-u-sm-3 am-form-label">是否上班</label>
                            <div class="am-u-sm-9" id="add">

                            </div>
                        </div>
                        <div class="am-form-group">
                            <div class="am-u-sm-9 am-u-sm-push-3">
                                <button type="submit" class="am-btn am-btn-primary">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>
{% endblock %}